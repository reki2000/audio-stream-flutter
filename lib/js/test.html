<html>

<head>
    <script src="audio_stream.js"></script>
</head>
<main>
    <script>
        const stream = window.AudioStream

        stream.init(3000, 100, 1, 44100)

        function play() {
            stream.resetStat()
            stream.resume()

            const sineWave = []
            const frequency = 440.0
            for (i = 0; i < 44100; i++) {
                sineWave[i] = Math.sin(2 * 3.1415 * ((i * frequency) % 44100) / 44100)
            }

            stream.push(sineWave)
            console.log(stream.stat)
        }
    </script>
    <input type="button" onclick="play();" value="play"></input>
</main>

</html>